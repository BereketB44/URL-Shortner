# PorchPick Application Notes

## 1. Overview

**PorchPick** is a modern web application designed to help users host and manage their own virtual yard and garage sales. Users can list items for sale, organize them into categories, and manage their sales events, providing a convenient platform for local commerce.

---

## 2. Current Progress: The Foundation

So far, we have successfully built the core foundation of the application, focusing on security and user management. Hereâ€™s a summary of what has been completed:

*   **Secure User Authentication:** A complete, secure authentication system has been implemented from the ground up.
    *   **Endpoints:** Users can now `/signup` and `/login` through a clean and secure REST API.
    *   **Password Security:** Passwords are not stored in plain text. We have integrated **Spring Security's** `PasswordEncoder` (specifically `BCrypt`), which is the industry standard for hashing passwords securely. This was done without pulling in the entire Spring Security framework, keeping the application lightweight.
    *   **Data Transfer Objects (DTOs):** We are using `AuthRequestDto` for incoming data and `AuthResponseDto` for outgoing data, ensuring that sensitive information like passwords is never exposed in API responses.

*   **Robust Exception Handling:** A `GlobalExceptionHandler` has been set up to catch and manage errors gracefully.
    *   It provides clear, standardized error messages for events like validation failures (`400 Bad Request`) or when a resource is not found (`404 Not Found`). This makes the API more predictable and easier for client applications to work with.

*   **Data Persistence:**
    *   The `User` entity has been created with proper validation and is configured to have its `id` automatically generated by the database.
    *   A `UserRepository` is in place to handle all database operations for the `User` entity.

*   **Comprehensive Testing:**
    *   The `AuthController` is fully tested using **JUnit 5**, **Mockito**, and **MockMvc**. These tests verify all success and failure scenarios, including valid logins, invalid passwords, and input validation, ensuring the controller is reliable.

---

## 3. The Path Forward: Building the Core Features

With the foundation in place, we can now build out the main features of the PorchPick application based on a clear and logical data model.

### Corrected Data Model:

Here is the finalized set of relationships we will use to build the application:

*   **`User` 1-to-1 `Profile`:** A user has one profile.
*   **`Profile` 1-to-many `YardSale`:** A profile can have many yard sales.
*   **`YardSale` 1-to-many `Item`:** A yard sale can have many items for sale.
*   **`Item` many-to-many `Category`:** An item can belong to multiple categories.

### Next Steps:

Here is the development plan to implement the core features:

1.  **Create the Entities:**
    *   `Profile`: Will store user details like name, bio, and profile picture URL.
    *   `YardSale`: Will contain information about the sale, such as its title, description, start/end times, and location.
    *   `Item`: The core entity, with fields for name, description, price, and images.
    *   `Category`: For organizing items (e.g., "Furniture," "Electronics," "Clothing").

2.  **Build the Repositories:**
    *   Create `JpaRepository` interfaces for `Profile`, `YardSale`, `Item`, and `Category` to enable database operations.

3.  **Implement the Services:**
    *   Develop service classes for each entity to handle the business logic (e.g., creating a new `YardSale`, adding an `Item` to it, assigning `Categories`).

4.  **Expose the API Endpoints:**
    *   Create controllers for each service to expose the functionality through a REST API. For example:
        *   `ProfileController`: To manage user profiles.
        *   `YardSaleController`: To create, update, and view yard sales.
        *   `ItemController`: To manage the items within a yard sale.
        *   `CategoryController`: For browsing and managing categories.

5.  **Write Tests:**
    *   Continue our practice of writing thorough unit and integration tests for all new controllers and services to ensure the application remains robust and reliable.
